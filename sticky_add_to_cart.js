document.addEventListener("DOMContentLoaded",(function(){let t=0;const e=setInterval((()=>{const o=document.querySelector(".cmp-productdetails__found-right .price-container"),n=document.querySelector(".cmp-productdetails__sticky");if(o&&n){const t=o.getAttribute("data-product-price");null!==t&&(!function(t){function e(){return window.matchMedia("(max-width: 767px)").matches}if(e()){const c=document.querySelector(".cmp-productdetails__found-right .price-container"),l=document.querySelector(".cmp-productdetails__sticky"),r=document.querySelector(".cmp-productdetails.cmp-productdetails__outofstock .cmp-productdetails__sticky"),d=document.createElement("div");d.className="sticky-add-to-cart",d.style.position="fixed",d.style.bottom="0",d.style.left="0",d.style.right="0",d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center",d.style.backgroundColor="#fff",d.style.padding="10px",d.style.boxShadow="0 -2px 5px rgba(0, 0, 0, 0.1)",d.style.opacity="0",d.style.transition="opacity 0.3s ease, display 0.3s ease",d.style.zIndex="50",d.style.display="none";const a=c.cloneNode(!0),u=l.cloneNode(!0);function o(t,e){e.addEventListener("click",(function(e){e.preventDefault(),t&&(t.click(),setTimeout((()=>{const t=document.querySelector("p.error");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),100))}))}a.setAttribute("data-product-price",t),d.appendChild(a),d.appendChild(u),document.body.appendChild(d);const y=l.querySelector(".button__addToBasket"),p=u.querySelector(".button__addToBasket");function n(){p.style.backgroundColor="grey",p.style.pointerEvents="none"}function s(t,e){let o,n;return function(){const s=this,i=arguments;n?(clearTimeout(o),o=setTimeout((function(){Date.now()-n>=e&&(t.apply(s,i),n=Date.now())}),e-(Date.now()-n))):(t.apply(s,i),n=Date.now())}}function i(){const t=l.getBoundingClientRect(),e=t.top<window.innerHeight-20&&t.bottom>20,o=r&&"none"===window.getComputedStyle(r).display,n=null!==document.querySelector("p.error"),s=document.querySelector("#attentive_creative"),i=document.querySelector("#immerss-widget");let c=null;i&&i.shadowRoot&&(c=i.shadowRoot.querySelector("div.iw-widget-button.iw-visible")),e||o||n?(d.style.opacity="0",d.style.display="none",u.style.display="none",s&&(s.style.bottom="16px",s.style.transition="bottom 0.3s ease 0s"),c&&(c.style.bottom="var(--iw-widget-button-y)",c.style.transition="bottom 0.3s ease 0s")):(d.style.opacity="1",d.style.display="flex",u.style.display="block",s&&(s.style.bottom="91px",s.style.transition="bottom 0.3s ease 0s"),c&&(c.style.bottom="91px",c.style.transition="bottom 0.3s ease 0s"))}y&&p&&o(y,p),window.addEventListener("scroll",s(i,100));const m=new MutationObserver((function(t){for(let e of t)"childList"===e.type&&e.target.classList.contains("cmp-productdetails__found-right")&&document.querySelector("p.error")&&n()})),f=document.querySelector(".cmp-productdetails__found-right");f&&m.observe(f,{childList:!0,subtree:!0}),i()}}(t),clearInterval(e))}t+=100,t>=5e3&&(clearInterval(e),console.warn("Sticky cart script: Required elements not found within the timeout period."))}),100)}));
