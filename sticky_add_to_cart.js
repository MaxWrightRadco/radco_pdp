document.addEventListener("DOMContentLoaded",(function(){let t=setInterval((()=>{const e=document.querySelector(".cmp-productdetails__found-right .price-container"),o=document.querySelector(".cmp-productdetails__sticky");e&&o&&(!function(){function t(){return window.matchMedia("(max-width: 767px)").matches}if(t()){const c=document.querySelector(".cmp-productdetails__found-right .price-container"),i=document.querySelector(".cmp-productdetails__sticky"),r=document.querySelector(".cmp-productdetails.cmp-productdetails__outofstock .cmp-productdetails__sticky"),l=c.getAttribute("data-product-price"),d=document.createElement("div");d.className="sticky-add-to-cart",d.style.position="fixed",d.style.bottom="0",d.style.left="0",d.style.right="0",d.style.display="flex",d.style.justifyContent="space-between",d.style.alignItems="center",d.style.backgroundColor="#fff",d.style.padding="10px",d.style.boxShadow="0 -2px 5px rgba(0, 0, 0, 0.1)",d.style.opacity="0",d.style.transition="opacity 0.3s ease, display 0.3s ease",d.style.zIndex="50",d.style.display="none";const a=document.createElement("div");a.className="price-sticky",a.innerHTML=c.outerHTML,a.querySelector(".price-container").setAttribute("data-product-price",l);const u=document.createElement("div");function e(t,e){e.addEventListener("click",(function(e){e.preventDefault(),t&&(t.click(),setTimeout((()=>{const t=document.querySelector("p.error");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),100))}))}u.className="add-to-basket-sticky",u.innerHTML=i.outerHTML,d.appendChild(a),d.appendChild(u),document.body.appendChild(d);const y=i.querySelector(".button__addToBasket"),p=u.querySelector(".button__addToBasket");function o(){p.style.backgroundColor="grey",p.style.pointerEvents="none"}function n(t,e){let o,n;return function(){const s=this,c=arguments;n?(clearTimeout(o),o=setTimeout((function(){Date.now()-n>=e&&(t.apply(s,c),n=Date.now())}),e-(Date.now()-n))):(t.apply(s,c),n=Date.now())}}function s(){const t=i.getBoundingClientRect(),e=t.top<window.innerHeight-20&&t.bottom>20,o=r&&"none"===window.getComputedStyle(r).display,n=null!==document.querySelector("p.error"),s=document.querySelector("#attentive_creative"),c=document.querySelector("#immerss-widget");let l=null;c&&c.shadowRoot&&(l=c.shadowRoot.querySelector("div.iw-widget-button.iw-visible")),e||o||n?(d.style.opacity="0",d.style.display="none",u.style.display="none",s&&(s.style.bottom="16px",s.style.transition="bottom 0.3s ease 0s"),l&&(l.style.bottom="var(--iw-widget-button-y)",l.style.transition="bottom 0.3s ease 0s")):(d.style.opacity="1",d.style.display="flex",u.style.display="block",s&&(s.style.bottom="91px",s.style.transition="bottom 0.3s ease 0s"),l&&(l.style.bottom="91px",l.style.transition="bottom 0.3s ease 0s"))}y&&p&&e(y,p),window.addEventListener("scroll",n(s,100));const m=new MutationObserver((function(t){for(let e of t)"childList"===e.type&&e.target.classList.contains("cmp-productdetails__found-right")&&document.querySelector("p.error")&&o()})),b=document.querySelector(".cmp-productdetails__found-right");b&&m.observe(b,{childList:!0,subtree:!0}),s()}}(),clearInterval(t))}),100)}));


