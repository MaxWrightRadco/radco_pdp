document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){if(window.matchMedia("(max-width: 767px)").matches){const o=document.querySelector(".cmp-productdetails__found-right .price-container"),s=document.querySelector(".cmp-productdetails__sticky"),n=document.querySelector(".cmp-productdetails.cmp-productdetails__outofstock .cmp-productdetails__sticky");if(!o||!s)return;const i=o.getAttribute("data-product-price"),l=document.createElement("div");l.className="sticky-add-to-cart",l.style.position="fixed",l.style.bottom="0",l.style.left="0",l.style.right="0",l.style.display="flex",l.style.justifyContent="space-between",l.style.alignItems="center",l.style.backgroundColor="#fff",l.style.padding="10px",l.style.boxShadow="0 -2px 5px rgba(0, 0, 0, 0.1)",l.style.opacity="0",l.style.transition="opacity 0.3s ease, display 0.3s ease",l.style.zIndex="50",l.style.display="none";const d=o.cloneNode(!0),c=s.cloneNode(!0);d.setAttribute("data-product-price",i),l.appendChild(d),l.appendChild(c),document.body.appendChild(l);const r=s.querySelector(".button__addToBasket"),a=c.querySelector(".button__addToBasket");function t(){const t=s.getBoundingClientRect(),e=t.top<window.innerHeight-20&&t.bottom>20,o=n&&"none"===window.getComputedStyle(n).display,i=null!==document.querySelector("p.error"),d=document.querySelector("#attentive_creative"),r=document.querySelector("#immerss-widget");let a=null;r&&r.shadowRoot&&(a=r.shadowRoot.querySelector("div.iw-widget-button.iw-visible")),e||o||i?(l.style.opacity="0",l.style.display="none",c.style.display="none",d&&(d.style.bottom="16px",d.style.transition="bottom 0.3s ease 0s"),a&&(a.style.bottom="var(--iw-widget-button-y)",a.style.transition="bottom 0.3s ease 0s")):(l.style.opacity="1",l.style.display="flex",c.style.display="block",d&&(d.style.bottom="91px",d.style.transition="bottom 0.3s ease 0s"),a&&(a.style.bottom="91px",a.style.transition="bottom 0.3s ease 0s"))}r&&a&&(e=r,a.addEventListener("click",(function(t){t.preventDefault(),e.click(),setTimeout((()=>{const t=document.querySelector("p.error");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),100)}))),window.addEventListener("scroll",t);new MutationObserver((function(t){for(let e of t)"childList"===e.type&&document.querySelector("p.error")&&(a.style.backgroundColor="grey",a.style.pointerEvents="none")})).observe(document.body,{childList:!0,subtree:!0}),t()}var e}),3e3)}));
