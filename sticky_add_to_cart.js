document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){if(window.matchMedia("(max-width: 767px)").matches){const n=document.querySelector(".cmp-productdetails__found-right .price-container"),c=document.querySelector(".cmp-productdetails__sticky"),i=document.querySelector(".cmp-productdetails__outofstock__content");if(!n||!c||!i)return void console.warn("One or more required elements are missing.");const s=n.getAttribute("data-product-price");let l;function t(){const t=document.createElement("div");t.className="sticky-add-to-cart",t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.display="flex",t.style.justifyContent="space-between",t.style.alignItems="center",t.style.backgroundColor="#fff",t.style.padding="10px",t.style.boxShadow="0 -2px 5px rgba(0, 0, 0, 0.1)",t.style.opacity="0",t.style.transition="opacity 0.3s ease",t.style.zIndex="50";const e=n.cloneNode(!0);e.className="price-container",e.setAttribute("data-product-price",s),l=c.cloneNode(!0);const i=l.querySelector(".cmp-loader__circ");i&&i.remove(),t.appendChild(e),t.appendChild(l),document.body.appendChild(t);const r=c.querySelector(".button__addToBasket"),d=l.querySelector(".button__addToBasket");r&&d&&d.addEventListener("click",(function(t){t.preventDefault(),r.click(),setTimeout((()=>{const t=document.querySelector("p.error");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}),100)})),o(),window.addEventListener("scroll",o)}function e(){const t=document.querySelector(".sticky-add-to-cart");t&&t.remove()}function o(){const t=document.querySelector(".sticky-add-to-cart");if(!t)return;const o="block"===window.getComputedStyle(i).display,n=c.getBoundingClientRect(),s=n.top<window.innerHeight-20&&n.bottom>20,r=null!==document.querySelector("p.error"),d=document.querySelector("#attentive_creative"),a=document.querySelector("#immerss-widget");let u=null;a&&a.shadowRoot&&(u=a.shadowRoot.querySelector("div.iw-widget-button.iw-visible")),o?e():s||r?(t.style.opacity="0",t.style.display="none",l.style.display="none",d&&(d.style.bottom="16px",d.style.transition="bottom 0.3s ease 0s"),u&&(u.style.bottom="var(--iw-widget-button-y)",u.style.transition="bottom 0.3s ease 0s")):(t.style.opacity="1",t.style.display="flex",l.style.display="block",d&&(d.style.bottom="91px",d.style.transition="bottom 0.3s ease 0s"),u&&(u.style.bottom="91px",u.style.transition="bottom 0.3s ease 0s"))}document.querySelectorAll(".swatch__root, .tile__root, .clickable__root").forEach((function(o){o.addEventListener("click",(function(){setTimeout((function(){"block"===window.getComputedStyle(i).display?e():(e(),t())}),300)}))})),"block"!==window.getComputedStyle(i).display&&t()}}),3e3)}));
