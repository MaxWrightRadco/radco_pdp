document.addEventListener("readystatechange",function(){if(document.readyState==="complete"){function e(){return window.matchMedia("(max-width: 767px)").matches}if(e()){const e=document.querySelector(".cmp-productdetails__found-right .price-container"),t=document.querySelector(".cmp-productdetails__sticky"),n=document.querySelector(".cmp-productdetails.cmp-productdetails__outofstock .cmp-productdetails__sticky"),o=e.getAttribute("data-product-price"),c=document.createElement("div");c.className="sticky-add-to-cart",c.style.position="fixed",c.style.bottom="0",c.style.left="0",c.style.right="0",c.style.display="flex",c.style.justifyContent="space-between",c.style.alignItems="center",c.style.backgroundColor="#fff",c.style.padding="10px",c.style.boxShadow="0 -2px 5px rgba(0, 0, 0, 0.1)",c.style.opacity="0",c.style.transition="opacity 0.3s ease, display 0.3s ease",c.style.zIndex="1000",c.style.display="none";const i=document.createElement("div");i.className="price-sticky",i.innerHTML=e.outerHTML,i.querySelector(".price-container").setAttribute("data-product-price",o);const s=document.createElement("div");s.className="add-to-basket-sticky",s.innerHTML=t.outerHTML,c.appendChild(i),c.appendChild(s),document.body.appendChild(c);const l=t.querySelector(".button__addToBasket"),d=s.querySelector(".button__addToBasket");function r(e,t){t.addEventListener("click",function(t){t.preventDefault(),e.click()})}l&&d&&r(l,d);function a(){d.style.backgroundColor="grey",d.style.pointerEvents="none"}function u(){const e=t.getBoundingClientRect(),o=e.top<window.innerHeight-20&&e.bottom>20,i=n&&window.getComputedStyle(n).display==="none",s=document.querySelector("#attentive_creative"),l=document.querySelector("#immerss-widget").shadowRoot.querySelector("div.iw-widget-button.iw-visible");!o&&!i?(c.style.opacity="1",c.style.display="flex",s&&(s.style.bottom="91px",s.style.transition="bottom 0.3s ease 0s"),l&&(l.style.bottom="91px",l.style.transition="bottom 0.3s ease 0s")):(c.style.opacity="0",c.style.display="none",s&&(s.style.bottom="16px",s.style.transition="bottom 0.3s ease 0s"),l&&(l.style.bottom="var(--iw-widget-button-y)",l.style.transition="bottom 0.3s ease 0s"))}window.addEventListener("scroll",u);const m=new MutationObserver(function(e){for(let t of e)t.type==="childList"&&document.querySelector("p.error")&&a()});m.observe(document.body,{childList:!0,subtree:!0}),u()}}});
