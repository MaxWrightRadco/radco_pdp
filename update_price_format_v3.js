document.addEventListener("DOMContentLoaded",(function(){function e(){requestAnimationFrame((()=>{const e=document.querySelector(".cmp-productdetails__found-right");if(e){const t=e.querySelector(".price"),r=e.querySelector(".cloned-price");if(t&&!r){const e=t.cloneNode(!0);e.classList.add("cloned-price"),t.style.display="none",e.removeAttribute("data-product-price"),e.removeAttribute("data-product-sku");e.querySelectorAll("span").forEach((function(e){e.textContent.includes(".00")&&(e.textContent=e.textContent.replace(".00",""))})),t.parentNode.insertBefore(e,t.nextSibling),e.style.opacity="1"}}}))}function t(e){requestAnimationFrame((()=>{e.querySelectorAll(".price, .price-range").forEach((function(e){if(e.querySelectorAll("span").forEach((function(e){e.textContent.includes(".00")&&(e.textContent=e.textContent.replace(".00",""))})),e.classList.contains("price-range")){e.querySelectorAll(".value").forEach((function(e){e.textContent.includes(".00")&&(e.textContent=e.textContent.replace(".00",""))}))}e.style.opacity="1"}))}))}function r(e){const t=e.querySelector(".wasPrice"),r=e.querySelector(".discountedPrice");if(t&&r){const c=t.textContent.trim().replace(/[^\d.-]/g,""),o=r.textContent.trim().replace(/[^\d.-]/g,"");if(parseFloat(c)<parseFloat(o)){e.querySelectorAll(".wasPrice").forEach((e=>{e.style.display="none"}))}}}function c(e){requestAnimationFrame((()=>{e.querySelectorAll(".glide__slides").forEach((e=>{e.querySelectorAll("img").forEach(((e,t)=>{e.loading="lazy",e.src.includes("=300")&&(e.src=e.src.replace("=300","=500")),e.hasAttribute("data-src")&&e.getAttribute("data-src").includes("=300")&&e.setAttribute("data-src",e.getAttribute("data-src").replace("=300","=500")),e.src.includes("=250")&&(e.src=e.src.replace("=250","=500"))}))}))}))}function o(o){if(!o)return;const n=document.querySelector(".cmp-searchresults__cards"),s=document.querySelector(".glide__slides"),u=document.querySelector(".cmp-productdetails__found-right"),l=function(l){(l.target.closest(".cmp-productcard__options .clickable__root")||l.target.closest(".swatchList__root .clickable__root"))&&(u&&u==o?(e(),r(o)):(t(o),r(o)),(n||s)&&c(o))};o.addEventListener("click",l);const i=new MutationObserver((function(l){let i;for(let a of l)"childList"===a.type&&(clearTimeout(i),i=setTimeout((()=>{u&&u==o?(e(),r(o)):(t(o),r(o))}),100),(n||s)&&(i=setTimeout((()=>c(o)),100)))}));return i.observe(o,{childList:!0,subtree:!0}),setTimeout((()=>{u&&u==o?(e(),r(o)):(t(o),r(o))}),3e3),(n||s)&&setTimeout((()=>c(o)),500),()=>{o.removeEventListener("click",l),i.disconnect()}}const n=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&((()=>{const e=document.querySelector(".cmp-searchresults__cards"),t=document.querySelector(".cmp-searchbar__autocompleteWrapper"),r=document.querySelector(".cmp-productdetails__found-right"),c=document.querySelectorAll(".cmp-productcarousel__wrapper"),n=document.querySelector(".cmp-productdetails__related"),s=document.querySelector(".tabsrelated"),u=[];e&&u.push(o(e)),t&&u.push(o(t)),r&&u.push(o(r)),c.forEach((e=>{u.push(o(e))})),n&&u.push(o(n)),s&&u.push(o(s))})(),t.disconnect())}))})),s=document.querySelector(".cmp-searchresults__cards"),u=document.querySelector(".cmp-searchbar__autocompleteWrapper"),l=document.querySelector(".cmp-productdetails__found-right"),i=document.querySelectorAll(".cmp-productcarousel__wrapper"),a=document.querySelector(".cmp-productdetails__related"),d=document.querySelector(".tabsrelated");s&&n.observe(s),u&&n.observe(u),l&&n.observe(l),a&&n.observe(a),d&&n.observe(d),i.forEach((e=>{n.observe(e)})),setTimeout((function(){document.querySelectorAll(".price, .price-range").forEach((function(e){"1"!==e.style.opacity&&requestAnimationFrame((()=>{e.style.opacity="1"}))}))}),5e3)}));
