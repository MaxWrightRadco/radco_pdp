function isWithinTargetTimeUTC(){const e=new Date,t=e.getUTCDay(),i=e.getUTCHours(),n=e.getUTCMinutes();return!(t<1||t>5)&&(!(1===t&&0===i&&n<1)&&(5!==t||!(i>17||17===i&&n>0)))}function addFreeShippingMessage(){const e=document.querySelector(".cmp-productdetails__found-right");if(!e)return;const t=e.querySelector(".price-container"),i=e.querySelector(".price");if(!i||!i.firstElementChild||!i.firstElementChild.textContent.includes("£"))return void console.log("£ symbol not found in the first child of the price element. Exiting.");if(!t)return void console.error("Selling price element not found.");const n=parseInt(t.getAttribute("data-product-price"),10);isNaN(n)?console.error("Invalid price value detected. Exiting."):n>=200?isWithinTargetTimeUTC()?updateNextDayMessage(t):updateShippingMessage(t):n>=125&&updateShippingMessage(t)}function updateShippingMessage(e){const t=e.querySelector(".shippingMessage");t&&t.remove();const i=document.createElement("div");i.classList.add("shippingMessage");const n=document.createTextNode("Includes "),s=document.createElement("strong");s.textContent="FREE",s.style.padding="0 4px";const a=document.createTextNode(" UK Delivery");i.appendChild(n),i.appendChild(s),i.appendChild(a),e.appendChild(i)}function updateNextDayMessage(e){const t=e.querySelector(".shippingMessage");t&&t.remove();const i=document.createElement("div");i.classList.add("shippingMessage");const n=document.createTextNode("Includes "),s=document.createElement("strong");s.textContent="FREE",s.style.padding="0 4px";const a=document.createTextNode(" Next Day Delivery");i.appendChild(n),i.appendChild(s),i.appendChild(a),e.appendChild(i)}document.addEventListener("DOMContentLoaded",(()=>{addFreeShippingMessage(),shippingMessageFallbackTimeout=setTimeout((()=>{shippingMessageFirstLoad&&(addFreeShippingMessage(),shippingMessageFirstLoad=!1)}),3e3)})),window.addEventListener("load",(()=>{shippingMessageFirstLoad&&(addFreeShippingMessage(),shippingMessageFirstLoad=!1,clearTimeout(shippingMessageFallbackTimeout));document.querySelectorAll(".swatch__root, .tile__root, .clickable__root").forEach((e=>{e.addEventListener("click",addFreeShippingMessage)}))}));let shippingMessageFallbackTimeout,shippingMessageFirstLoad=!0;
