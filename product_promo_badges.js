function formatPromoText(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_")}function removeExistingBadges(){document.querySelectorAll(".product_badge").forEach((e=>e.remove()))}function displayPromoMessage(){const e=document.querySelector(".frontattributes-container .small-description tbody");if(e){const o=Array.from(e.getElementsByTagName("th")).find((e=>"Promotion"===e.textContent.trim()));if(o){const e=o.nextElementSibling;if(e){const o=formatPromoText(e.textContent.trim())+"_badge",t=document.querySelector(".cmp-productdetails__found-left .carousel__imageContainer");if(t){removeExistingBadges();const e=document.createElement("div");e.classList.add("product_badge",o),t.appendChild(e)}}}}}document.addEventListener("DOMContentLoaded",(()=>{try{document.querySelector("coral-actionbar.header-main.coral3-ActionBar")||setTimeout(displayPromoMessage,500)}catch(e){console.error("Error in DOMContentLoaded listener:",e)}}));let fallbackTimeoutPromo,isFirstLoadPromo=!0;window.addEventListener("load",(()=>{try{var e=document.querySelector("coral-actionbar.header-main.coral3-ActionBar");isFirstLoadPromo&&!e&&(setTimeout(displayPromoMessage,500),isFirstLoadPromo=!1,clearTimeout(fallbackTimeoutPromo))}catch(e){console.error("Error in load event listener:",e)}})),fallbackTimeoutPromo=setTimeout((()=>{try{var e=document.querySelector("coral-actionbar.header-main.coral3-ActionBar");isFirstLoadPromo&&!e&&(setTimeout(displayPromoMessage,500),isFirstLoadPromo=!1)}catch(e){console.error("Error in fallback timeout:",e)}}),3500),window.addEventListener("load",(()=>{document.querySelectorAll(".swatch__root, .tile__root, .clickable__root").forEach((e=>{e.addEventListener("click",removeExistingBadges),e.addEventListener("click",displayPromoMessage)}))}));
